CREATE TABLE TUTOR (
    ID_TUTOR INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY key,
    NOME VARCHAR(100) NOT NULL,
    ENDERECO VARCHAR(150),
    TELEFONE VARCHAR(15),
    EMAIL VARCHAR(100)
);

CREATE TABLE PACIENTE (
    ID_PACIENTE INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY key,
    NOME VARCHAR(100) NOT NULL,
    ESPECIE VARCHAR(50) NOT NULL,
    RACA VARCHAR(50),
    IDADE INT,
    PESO NUMERIC(15,2),
    ID_TUTOR INTEGER,
    FOREIGN KEY (ID_TUTOR) REFERENCES TUTOR (ID_TUTOR)
);

CREATE TABLE VETERINARIO (
    ID_VETERINARIO INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY key,
    NOME VARCHAR(100) NOT NULL,
    ESPECIALIDADE VARCHAR(100),
    TELEFONE VARCHAR(15),
    EMAIL VARCHAR(100)
);

CREATE TABLE AGENDAMENTO (
    ID_AGENDAMENTO INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY key,
    DATAHORA TIMESTAMP NOT NULL,
    MOTIVO VARCHAR(255),
    ID_PACIENTE INTEGER,
    FOREIGN KEY (ID_PACIENTE) REFERENCES PACIENTE (ID_PACIENTE),
    ID_VETERINARIO INTEGER,
    FOREIGN KEY (ID_VETERINARIO) REFERENCES VETERINARIO (ID_VETERINARIO)
);

CREATE TABLE MEDICAMENTOS (
    ID_MEDICAMENTO INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY key,
    NOME VARCHAR(100) NOT NULL,
    DESCRICAO VARCHAR(255),
    PRECO DECIMAL(10,2)
);

CREATE TABLE RECEITA (
    ID_RECEITA INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY key,
    DATAEMISSAO DATE NOT NULL,
    ID_AGENDAMENTO INTEGER,
    FOREIGN KEY (ID_AGENDAMENTO) REFERENCES AGENDAMENTO (ID_AGENDAMENTO)
);

CREATE TABLE ITENS_DE_RECEITA (
    ID_ITENS_DE_RECEITA INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY key,
    QUANTIDADE INT NOT NULL,
    DOSAGEM VARCHAR(50),
    ID_RECEITA INTEGER,
    FOREIGN KEY (ID_RECEITA) REFERENCES RECEITA (ID_RECEITA),
    ID_MEDICAMENTO INTEGER,
    FOREIGN KEY (ID_MEDICAMENTO) REFERENCES MEDICAMENTOS (ID_MEDICAMENTO)
);